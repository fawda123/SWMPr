<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>README.utf8</title>

<script src="README_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="README_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="README_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="README_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="README_files/navigation-1.1/tabsets.js"></script>
<link href="README_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="README_files/highlightjs-9.12.0/highlight.js"></script>
<link href="README_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="README_files/anchor-sections-1.0/anchor-sections.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">




</div>


<p><img src="swmpr_logo.png" /></p>
<div id="marcus-w.-beck-marcusbsccwrp.org" class="section level4">
<h4><em>Marcus W. Beck, <a href="mailto:marcusb@sccwrp.org" class="email">marcusb@sccwrp.org</a></em></h4>
<p>Linux and OS X: <a href="https://travis-ci.org/fawda123/SWMPr"><img src="https://travis-ci.org/fawda123/SWMPr.svg?branch=master" alt="Build Status" /></a></p>
<p>Windows: <a href="https://ci.appveyor.com/project/fawda123/swmpr"><img src="https://ci.appveyor.com/api/projects/status/kouqfwfx6bnk13qq?svg=true" alt="Build status" /></a></p>
<p><a href="http://cran.rstudio.com/package=SWMPr"><img src="http://cranlogs.r-pkg.org/badges/grand-total/SWMPr" alt="Downloads from the RStudio CRAN mirror" /></a></p>
</div>
<div id="overview" class="section level1">
<h1>Overview</h1>
<p>The System Wide Monitoring Program (<a href="http://nerrs.noaa.gov/RCDefault.aspx?ID=18">SWMP</a>) was implemented by the National Estuarine Research Reserve System (<a href="http://nerrs.noaa.gov/">NERRS</a>) in 1995 to provide continuous monitoring data at over 140 continuous monitoring stations in 28 estuaries across the United States. SWMPr (pronounced “swamper”) is an R package for retrieving, organizing, and analyzing estuary monitoring data from SWMP. Please cite the package as follows:</p>
<p><em>Beck MW. 2016. SWMPr: An R package for retrieving, organizing, and analyzing environmental data for estuaries. The R Journal. 8(1):219-232. <a href="https://journal.r-project.org/archive/2016-1/beck.pdf" class="uri">https://journal.r-project.org/archive/2016-1/beck.pdf</a></em></p>
</div>
<div id="installing-the-package" class="section level1">
<h1>Installing the package</h1>
<p>Install the package from CRAN as follows:</p>
<pre class="r"><code>install.packages(&#39;SWMPr&#39;)
library(SWMPr)</code></pre>
<p>The development (unstable) version of this package can be installed from Github:</p>
<pre class="r"><code>install.packages(&#39;devtools&#39;)
library(devtools)
install_github(&#39;fawda123/SWMPr&#39;, ref = &#39;development&#39;)
library(SWMPr)</code></pre>
</div>
<div id="using-the-package" class="section level1">
<h1>Using the package</h1>
<p>A detailed manuscript describing full use of the package is available from the <a href="https://journal.r-project.org/archive/accepted/beck.pdf">R Journal</a>. All source materials for the manuscript are available <a href="https://github.com/fawda123/swmpr_manu">here</a>. A brief description of the available functions is provided below. See help documentation for more details on each function (e.g., <code>?all_params</code>). All functions are grouped into respective categories that describe their use: retrieve, organize, and analyze. Help files for functions in each category can be viewed as follows:</p>
<pre class="r"><code>help.search(&#39;retrieve&#39;, package = &#39;SWMPr&#39;)
help.search(&#39;organize&#39;, package = &#39;SWMPr&#39;)
help.search(&#39;analyze&#39;, package = &#39;SWMPr&#39;)</code></pre>
<h3>
Retrieve
</h3>
<table>
<tr>
<td>
<code>all_params</code>
</td>
<td>
Retrieve any number of records starting with the most recent at a given station, all parameters. Wrapper to <code>exportAllParamsXMLNew</code> function on web services.
</td>
</tr>
<tr>
<td>
<code>all_params_dtrng</code>
</td>
<td>
Retrieve records of all parameters within a given date range for a station. Optional argument for a single parameter. Wrapper to <code>exportAllParamsDateRangeXMLNew</code>.
</td>
</tr>
<tr>
<td>
<code>import_local</code>
</td>
<td>
Import files from a local path. The files must be in a specific format, specifically those returned from the CDMO using the <a href="http://cdmo.baruch.sc.edu/aqs/zips.cfm">zip downloads</a> option for a reserve.
</td>
</tr>
<tr>
<td>
<code>import_remote</code>
</td>
<td>
Import SWMP site data from a remote independent server. These files have been downloaded from CDMO, processed using functions in this package, and uploaded to an Amazon server for quicker import into R.
</td>
</tr>
<tr>
<td>
<code>single_param</code>
</td>
<td>
Retrieve any number of records for a single parameter starting with the most recent at a given station. Wrapper to <code>exportSingleParamXMLNew</code> function on web services.
</td>
</tr>
<tr>
<td>
<code>site_codes</code>
</td>
<td>
Metadata for all stations, wrapper to <code>exportStationCodesXMLNew</code> function on web services.
</td>
</tr>
<tr>
<td>
<code>site_codes_ind</code>
</td>
<td>
Metadata for all stations at a single site, wrapper to <code>NERRFilterStationCodesXMLNew</code> function on web services.
</td>
</tr>
</table>
<h3>
Organize
</h3>
<table>
<tr>
<td>
<code>cens_id</code>
</td>
<td>
Creates additional columns in a swmpr object that identify observations below, within, or above the detection limit.
</td>
</tr>
<tr>
<td>
<code>comb</code>
</td>
<td>
Combines swmpr objects to a common time series using setstep, such as combining the weather, nutrients, and water quality data for a single station. Only different data types can be combined.
</td>
</tr>
<tr>
<td>
<code>qaqc</code>
</td>
<td>
Remove QAQC columns and remove data based on QAQC flag values for a swmpr object. Only applies if QAQC columns are present.
</td>
</tr>
<tr>
<td>
<code>qaqcchk</code>
</td>
<td>
View a summary of the number of observations in a swmpr object that are assigned to different QAQC flags used by CDMO. The output is used to inform further processing but is not used explicitly.
</td>
</tr>
<tr>
<td>
<code>rem_reps</code>
</td>
<td>
Remove replicate nutrient data that occur on the same day. The default is to average replicates.
</td>
</tr>
<tr>
<td>
<code>setstep</code>
</td>
<td>
Format data from a swmpr object to a continuous time series at a given timestep. The function is used in <code>comb</code> and can also be used with individual stations.
</td>
</tr>
<tr>
<td>
<code>subset</code>
</td>
<td>
Subset by dates and/or columns for a swmpr object. This is a method passed to the generic `subset’ function provided in the base package.
</td>
</tr>
</table>
<h3>
Analyze
</h3>
<table>
<tr>
<td>
<code>aggreswmp</code>
</td>
<td>
Aggregate swmpr objects for different time periods - years, quarters, months, weeks, days, or hours. Aggregation function is user-supplied but defaults to mean.
</td>
</tr>
<tr>
<td>
<code>aggremetab</code>
</td>
<td>
Aggregate metabolism data from a swmpr object. This is primarily used within <code>plot_metab</code> but may be useful for simple summaries of raw daily data.
</td>
</tr>
<tr>
<td>
<code>ecometab</code>
</td>
<td>
Estimate ecosystem metabolism for a combined water quality and weather dataset using the open-water method.
</td>
</tr>
<tr>
<td>
<code>decomp</code>
</td>
<td>
Decompose a swmpr time series into trend, seasonal, and residual components. This is a simple wrapper to <code>decompose</code>. Decomposition of monthly or daily trends is possible.
</td>
</tr>
<tr>
<td>
<code>decomp_cj</code>
</td>
<td>
Decompose a swmpr time series into grandmean, annual, seasonal, and events components. This is a simple wrapper to <code>decompTs</code> in the wq package. Only monthly decomposition is possible.
</td>
</tr>
<tr>
<td>
<code>hist</code>
</td>
<td>
Plot a histogram for a swmpr object.
</td>
</tr>
<tr>
<td>
<code>lines</code>
</td>
<td>
Add lines to an existing swmpr plot.
</td>
</tr>
<tr>
<td>
<code>map_reserve</code>
</td>
<td>
Create a map of all stations in a reserve using the ggmap package.
</td>
</tr>
<tr>
<td>
<code>na.approx</code>
</td>
<td>
Linearly interpolate missing data (<code>NA</code> values) in a swmpr object. The maximum gap size that is interpolated is defined as a maximum number of records with missing data.
</td>
</tr>
<tr>
<td>
<code>overplot</code>
</td>
<td>
Plot multiple SWMP time series on the same y-axis.
</td>
</tr>
<tr>
<td>
<code>plot</code>
</td>
<td>
Plot a univariate time series for a swmpr object. The parameter name must be specified.
</td>
</tr>
<tr>
<td>
<code>plot_metab </code>
</td>
<td>
Plot ecosystem metabolism estimates after running <code>ecometab</code> on a swmpr object.
</td>
</tr>
<tr>
<td>
<code>plot_summary</code>
</td>
<td>
Create summary plots of seasonal/annual trends and anomalies for a water quality or weather parameter.
</td>
</tr>
<tr>
<td>
<code>plot_wind</code>
</td>
<td>
Create a wind rose using weather data.
</td>
</tr>
<tr>
<td>
<code>smoother</code>
</td>
<td>
Smooth swmpr objects with a moving window average. Window size and sides can be specified, passed to <code>filter</code>.
</td>
</tr>
</table>
<h3>
Miscellaneous
</h3>
<table>
<tr>
<td>
<code>calcKL</code>
</td>
<td>
Estimate the reaeration coefficient for air-sea gas exchange. This is only used within the <code>ecometab</code> function.
</td>
</tr>
<tr>
<td>
<code>metab_day</code>
</td>
<td>
Identify the metabolic day for each approximate 24 period in an hourly time series. This is only used within the <code>ecometab</code> function.
</td>
</tr>
<tr>
<td>
<code>param_names</code>
</td>
<td>
Returns column names as a list for the parameter type(s) (nutrients, weather, or water quality). Includes QAQC columns with ‘f_’ prefix. Used internally in other functions.
</td>
</tr>
<tr>
<td>
<code>parser</code>
</td>
<td>
Parses html returned from CDMO web services, used internally in retrieval functions.
</td>
</tr>
<tr>
<td>
<code>swmpr</code>
</td>
<td>
Creates object of swmpr class, used internally in retrieval functions.
</td>
</tr>
<tr>
<td>
<code>time_vec</code>
</td>
<td>
Converts time vectors to POSIX objects with correct time zone for a site/station, used internally in retrieval functions.
</td>
</tr>
</table>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
