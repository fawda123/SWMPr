<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simple trend decomposition of monthly swmpr data — decomp_cj • SWMPr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simple trend decomposition of monthly swmpr data — decomp_cj"><meta name="description" content="Decompose monthly SWMP time series into grandmean, annual, seasonal, and event series as described in Cloern and Jassby 2010."><meta property="og:description" content="Decompose monthly SWMP time series into grandmean, annual, seasonal, and event series as described in Cloern and Jassby 2010."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SWMPr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Overview.html">Overview</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fawda123/SWMPr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simple trend decomposition of monthly swmpr data</h1>
      <small class="dont-index">Source: <a href="https://github.com/fawda123/SWMPr/blob/master/R/decomp_cj.R" class="external-link"><code>R/decomp_cj.R</code></a></small>
      <div class="d-none name"><code>decomp_cj.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Decompose monthly SWMP time series into grandmean, annual, seasonal, and event series as described in Cloern and Jassby 2010.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat_in</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'swmpr'</span></span>
<span><span class="fu">decomp_cj</span><span class="op">(</span></span>
<span>  <span class="va">dat_in</span>,</span>
<span>  <span class="va">param</span>,</span>
<span>  vals_out <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  event <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"add"</span>, <span class="st">"mult"</span><span class="op">)</span>,</span>
<span>  center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"median"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">decomp_cj</span><span class="op">(</span></span>
<span>  <span class="va">dat_in</span>,</span>
<span>  <span class="va">param</span>,</span>
<span>  <span class="va">date_col</span>,</span>
<span>  vals_out <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  event <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"add"</span>, <span class="st">"mult"</span><span class="op">)</span>,</span>
<span>  center <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span>, <span class="st">"median"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat-in">dat_in<a class="anchor" aria-label="anchor" href="#arg-dat-in"></a></dt>
<dd><p>input data object</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed to or from other methods</p></dd>


<dt id="arg-param">param<a class="anchor" aria-label="anchor" href="#arg-param"></a></dt>
<dd><p>chr string of variable to decompose</p></dd>


<dt id="arg-vals-out">vals_out<a class="anchor" aria-label="anchor" href="#arg-vals-out"></a></dt>
<dd><p>logical indicating of numeric output is returned, default is <code>FALSE</code> to return a plot.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>logical indicating if an 'events' component should be determined</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>chr string indicating the type of decomposition, either additive (<code>'add'</code>) or multiplicative (<code>'mult'</code>)</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>chr string indicating the method of centering, either <code>'mean'</code> or <code>'median'</code></p></dd>


<dt id="arg-date-col">date_col<a class="anchor" aria-label="anchor" href="#arg-date-col"></a></dt>
<dd><p>chr string indicating the name of the date column which should be a date or POSIX object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></code> object if <code>vals_out = FALSE</code> (default), otherwise a monthly time series matrix of class <code><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is a simple wrapper to the <code>decompTs</code> function in the archived wq package, also described in Cloern and Jassby (2010).  The function is similar to <code><a href="decomp.html">decomp.swmpr</a></code> (which is a wrapper to <code><a href="https://rdrr.io/r/stats/decompose.html" class="external-link">decompose</a></code>) with a few key differences.  The <code><a href="decomp.html">decomp.swmpr</a></code> function decomposes the time series into a trend, seasonal, and random components, whereas the current function decomposes into the grandmean, annual, seasonal, and events components.  For both functions, the random or events components, respectively, can be considered anomalies that don't follow the trends in the remaining categories.</p>
<p>The <code>decomp_cj</code> function provides only a monthly decomposition, which is appropriate for characterizing relatively long-term trends.  This approach is meant for nutrient data that are obtained on a monthly cycle.  The function will also work with continuous water quality or weather data but note that the data are first aggregated on the monthly scale before decomposition.  Use the <code><a href="decomp.html">decomp.swmpr</a></code> function to decompose daily variation.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Cloern, J.E., Jassby, A.D. 2010. Patterns and scales of phytoplankton variability in estuarine-coastal ecosystems. Estuaries and Coasts. 33:230-241.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## get data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">apacpnut</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">apacpnut</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="qaqc.html">qaqc</a></span><span class="op">(</span><span class="va">dat</span>, qaqc_keep <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## decomposition of chl, values as data.frame</span></span></span>
<span class="r-in"><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat</span>, param <span class="op">=</span> <span class="st">'chla_n'</span>, vals_out <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Time  original    grand     annual   seasonal      events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   2002-01-01        NA 5.929384 -2.7606342 -1.9742526          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2002-02-01        NA 5.929384 -2.7606342 -0.4467677          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   2002-03-01        NA 5.929384 -2.7606342 -1.6590556          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   2002-04-01  1.600000 5.929384 -2.7606342 -1.2348774 -0.33387263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   2002-05-01        NA 5.929384 -2.7606342  1.3020742          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   2002-06-01  3.400000 5.929384 -2.7606342  0.4469690 -0.21571901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   2002-07-01  3.350000 5.929384 -2.7606342  2.2257409 -2.04449091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   2002-08-01  7.800000 5.929384 -2.7606342  3.9705393  0.66071070</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   2002-09-01  0.800000 5.929384 -2.7606342  2.4315671 -4.80031708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  2002-10-01  2.350000 5.929384 -2.7606342 -0.9449885  0.12623848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  2002-11-01  3.700000 5.929384 -2.7606342 -2.3626582  2.89390823</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  2002-12-01  2.350000 5.929384 -2.7606342 -2.4989527  1.68020265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  2003-01-01 13.243000 5.929384  0.3273658 -1.9742526  8.96050258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  2003-02-01 14.952000 5.929384  0.3273658 -0.4467677  9.14201773</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  2003-03-01  7.903500 5.929384  0.3273658 -1.6590556  3.30580561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  2003-04-01  2.990000 5.929384  0.3273658 -1.2348774 -2.03187263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  2003-05-01  6.087500 5.929384  0.3273658  1.3020742 -1.47132424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  2003-06-01  4.485500 5.929384  0.3273658  0.4469690 -2.21821901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  2003-07-01  8.117000 5.929384  0.3273658  2.2257409 -0.36549091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  2003-08-01  3.845000 5.929384  0.3273658  3.9705393 -6.38228930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  2003-09-01  8.544000 5.929384  0.3273658  2.4315671 -0.14431708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  2003-10-01  1.282000 5.929384  0.3273658 -0.9449885 -4.02976152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  2003-11-01  1.495500 5.929384  0.3273658 -2.3626582 -2.39859177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  2003-12-01  2.136000 5.929384  0.3273658 -2.4989527 -1.62179735</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  2004-01-01  1.050000 5.929384 -1.7157479 -1.9742526 -1.18938378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  2004-02-01  2.600000 5.929384 -1.7157479 -0.4467677 -1.16686863</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27  2004-03-01  1.900000 5.929384 -1.7157479 -1.6590556 -0.65458075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28  2004-04-01  2.600000 5.929384 -1.7157479 -1.2348774 -0.37875900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29  2004-05-01  3.600000 5.929384 -1.7157479  1.3020742 -1.91571061</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30  2004-06-01  2.100000 5.929384 -1.7157479  0.4469690 -2.56060537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31  2004-07-01  4.150000 5.929384 -1.7157479  2.2257409 -2.28937727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  2004-08-01  6.100000 5.929384 -1.7157479  3.9705393 -2.08417566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  2004-09-01 17.300000 5.929384 -1.7157479  2.4315671 10.65479656</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34  2004-10-01  4.300000 5.929384 -1.7157479 -0.9449885  1.03135211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35  2004-11-01  0.650000 5.929384 -1.7157479 -2.3626582 -1.20097813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  2004-12-01        NA 5.929384 -1.7157479 -2.4989527          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37  2005-01-01  1.600000 5.929384 -4.3051342 -1.9742526  1.95000258</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  2005-02-01  1.495000 5.929384 -4.3051342 -0.4467677  0.31751773</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  2005-03-01  0.740000 5.929384 -4.3051342 -1.6590556  0.77480561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  2005-04-01  1.090000 5.929384 -4.3051342 -1.2348774  0.70062737</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41  2005-05-01  1.825000 5.929384 -4.3051342  1.3020742 -1.10132424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  2005-06-01  1.705000 5.929384 -4.3051342  0.4469690 -0.36621901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43  2005-07-01        NA 5.929384 -4.3051342  2.2257409          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44  2005-08-01  1.495000 5.929384 -4.3051342  3.9705393 -4.09978930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  2005-09-01  2.560000 5.929384 -4.3051342  2.4315671 -1.49581708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46  2005-10-01  2.560000 5.929384 -4.3051342 -0.9449885  1.88073848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47  2005-11-01  1.172500 5.929384 -4.3051342 -2.3626582  1.91090823</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48  2005-12-01        NA 5.929384 -4.3051342 -2.4989527          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  2006-01-01  4.740000 5.929384 -1.0746967 -1.9742526  1.85956508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50  2006-02-01  3.885000 5.929384 -1.0746967 -0.4467677 -0.52291977</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  2006-03-01  1.960000 5.929384 -1.0746967 -1.6590556 -1.23563189</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  2006-04-01  4.710000 5.929384 -1.0746967 -1.2348774  1.09018987</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53  2006-05-01        NA 5.929384 -1.0746967  1.3020742          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54  2006-06-01        NA 5.929384 -1.0746967  0.4469690          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55  2006-07-01        NA 5.929384 -1.0746967  2.2257409          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56  2006-08-01 10.425000 5.929384 -1.0746967  3.9705393  1.59977320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57  2006-09-01  7.350000 5.929384 -1.0746967  2.4315671  0.06374542</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58  2006-10-01  2.520000 5.929384 -1.0746967 -0.9449885 -1.38969902</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59  2006-11-01  3.247500 5.929384 -1.0746967 -2.3626582  0.75547073</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60  2006-12-01        NA 5.929384 -1.0746967 -2.4989527          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61  2007-01-01  4.450000 5.929384 -0.4877176 -1.9742526  0.98258592</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62  2007-02-01  3.050000 5.929384 -0.4877176 -0.4467677 -1.94489893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  2007-03-01  2.900000 5.929384 -0.4877176 -1.6590556 -0.88261105</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 64  2007-04-01  3.800000 5.929384 -0.4877176 -1.2348774 -0.40678930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65  2007-05-01  8.500000 5.929384 -0.4877176  1.3020742  1.75625909</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  2007-06-01  2.900000 5.929384 -0.4877176  0.4469690 -2.98863567</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67  2007-07-01  6.500000 5.929384 -0.4877176  2.2257409 -1.16740758</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 68  2007-08-01  8.000000 5.929384 -0.4877176  3.9705393 -1.41220597</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 69  2007-09-01 13.600000 5.929384 -0.4877176  2.4315671  5.72676626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 70  2007-10-01  4.200000 5.929384 -0.4877176 -0.9449885 -0.29667819</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 71  2007-11-01  4.700000 5.929384 -0.4877176 -2.3626582  1.62099156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 72  2007-12-01  2.700000 5.929384 -0.4877176 -2.4989527 -0.24271402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 73  2008-01-01  0.400000 5.929384  0.9011713 -1.9742526 -4.45630297</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74  2008-02-01  3.066667 5.929384  0.9011713 -0.4467677 -3.31712115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 75  2008-03-01  6.500000 5.929384  0.9011713 -1.6590556  1.32850006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  2008-04-01  4.900000 5.929384  0.9011713 -1.2348774 -0.69567819</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 77  2008-05-01 14.500000 5.929384  0.9011713  1.3020742  6.36737020</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  2008-06-01  7.500000 5.929384  0.9011713  0.4469690  0.22247544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79  2008-07-01  9.600000 5.929384  0.9011713  2.2257409  0.54370354</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80  2008-08-01 15.600000 5.929384  0.9011713  3.9705393  4.79890515</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81  2008-09-01  5.800000 5.929384  0.9011713  2.4315671 -3.46212263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 82  2008-10-01  5.800000 5.929384  0.9011713 -0.9449885 -0.08556708</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 83  2008-11-01  2.900000 5.929384  0.9011713 -2.3626582 -1.56789733</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 84  2008-12-01  5.400000 5.929384  0.9011713 -2.4989527  1.06839710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 85  2009-01-01  6.900000 5.929384  1.8233936 -1.9742526  1.12147480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 86  2009-02-01  8.000000 5.929384  1.8233936 -0.4467677  0.69398996</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 87  2009-03-01  5.800000 5.929384  1.8233936 -1.6590556 -0.29372216</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88  2009-04-01  2.400000 5.929384  1.8233936 -1.2348774 -4.11790041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 89  2009-05-01  9.400000 5.929384  1.8233936  1.3020742  0.34514798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90  2009-06-01  6.000000 5.929384  1.8233936  0.4469690 -2.19974679</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 91  2009-07-01 11.800000 5.929384  1.8233936  2.2257409  1.82148131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 92  2009-08-01 19.700000 5.929384  1.8233936  3.9705393  7.97668292</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93  2009-09-01  7.633333 5.929384  1.8233936  2.4315671 -2.55101152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 94  2009-10-01  5.800000 5.929384  1.8233936 -0.9449885 -1.00778930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 95  2009-11-01  6.900000 5.929384  1.8233936 -2.3626582  1.50988045</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 96  2009-12-01  2.700000 5.929384  1.8233936 -2.4989527 -2.55382513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 97  2010-01-01  1.800000 5.929384  1.2567269 -1.9742526 -3.41185853</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 98  2010-02-01  4.700000 5.929384  1.2567269 -0.4467677 -2.03934338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  2010-03-01  5.100000 5.929384  1.2567269 -1.6590556 -0.42705550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 100 2010-04-01  4.500000 5.929384  1.2567269 -1.2348774 -1.45123374</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 2010-05-01  5.100000 5.929384  1.2567269  1.3020742 -3.38818535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 102 2010-06-01 13.600000 5.929384  1.2567269  0.4469690  5.96691988</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 103 2010-07-01 13.400000 5.929384  1.2567269  2.2257409  3.98814798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 104 2010-08-01 11.600000 5.929384  1.2567269  3.9705393  0.44334959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 105 2010-09-01 11.600000 5.929384  1.2567269  2.4315671  1.98232181</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 2010-10-01  4.533333 5.929384  1.2567269 -0.9449885 -1.70778930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 107 2010-11-01  3.800000 5.929384  1.2567269 -2.3626582 -1.02345288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 108 2010-12-01  6.500000 5.929384  1.2567269 -2.4989527  1.81284154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 109 2011-01-01  3.800000 5.929384  2.7428380 -1.9742526 -2.89796964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 110 2011-02-01  8.566667 5.929384  2.7428380 -0.4467677  0.34121218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111 2011-03-01  4.700000 5.929384  2.7428380 -1.6590556 -2.31316661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 2011-04-01  9.400000 5.929384  2.7428380 -1.2348774  1.96265515</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 113 2011-05-01 10.500000 5.929384  2.7428380  1.3020742  0.52570354</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 114 2011-06-01 12.300000 5.929384  2.7428380  0.4469690  3.18080877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 115 2011-07-01 14.700000 5.929384  2.7428380  2.2257409  3.80203687</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 2011-08-01 14.500000 5.929384  2.7428380  3.9705393  1.85723848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 117 2011-09-01 10.000000 5.929384  2.7428380  2.4315671 -1.10378930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 118 2011-10-01  6.200000 5.929384  2.7428380 -0.9449885 -1.52723374</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 119 2011-11-01  6.000000 5.929384  2.7428380 -2.3626582 -0.30956399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 120 2011-12-01  3.400000 5.929384  2.7428380 -2.4989527 -2.77326957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 121 2012-01-01  4.020000 5.929384  1.4189491 -1.9742526 -1.35408075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 122 2012-02-01  6.700000 5.929384  1.4189491 -0.4467677 -0.20156560</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 123 2012-03-01  8.040000 5.929384  1.4189491 -1.6590556  2.35072228</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 124 2012-04-01  5.810000 5.929384  1.4189491 -1.2348774 -0.30345597</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 125 2012-05-01  9.013333 5.929384  1.4189491  1.3020742  0.36292576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 126 2012-06-01  9.380000 5.929384  1.4189491  0.4469690  1.58469766</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 127 2012-07-01  6.480000 5.929384  1.4189491  2.2257409 -3.09407424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 128 2012-08-01  6.700000 5.929384  1.4189491  3.9705393 -4.61887263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 129 2012-09-01  8.710000 5.929384  1.4189491  2.4315671 -1.06990041</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 130 2012-10-01 13.183333 5.929384  1.4189491 -0.9449885  6.77998848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 131 2012-11-01  2.795000 5.929384  1.4189491 -2.3626582 -2.19067510</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 132 2012-12-01        NA 5.929384  1.4189491 -2.4989527          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 133 2013-01-01  2.230000 5.929384 -0.1605963 -1.9742526 -1.56453530</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 134 2013-02-01  4.020000 5.929384 -0.1605963 -0.4467677 -1.30202014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 135 2013-03-01  2.156667 5.929384 -0.1605963 -1.6590556 -1.95306560</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 136 2013-04-01 10.500000 5.929384 -0.1605963 -1.2348774  5.96608949</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 137 2013-05-01  5.590000 5.929384 -0.1605963  1.3020742 -1.48086212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 138 2013-06-01  5.810000 5.929384 -0.1605963  0.4469690 -0.40575689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 139 2013-07-01  6.800000 5.929384 -0.1605963  2.2257409 -1.19452879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 140 2013-08-01 11.000000 5.929384 -0.1605963  3.9705393  1.26067282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 141 2013-09-01  4.400000 5.929384 -0.1605963  2.4315671 -3.80035496</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 142 2013-10-01  5.050000 5.929384 -0.1605963 -0.9449885  0.22620060</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 143 2013-11-01        NA 5.929384 -0.1605963 -2.3626582          NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 144 2013-12-01  5.900000 5.929384 -0.1605963 -2.4989527  2.63016477</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## decomposition of chl, ggplot</span></span></span>
<span class="r-in"><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat</span>, param <span class="op">=</span> <span class="st">'chla_n'</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6 rows containing missing values or values outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`geom_line()`).</span>
<span class="r-plt img"><img src="decomp_cj-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## decomposition changing arguments passed to decompTs</span></span></span>
<span class="r-in"><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat</span>, param <span class="op">=</span> <span class="st">'chla_n'</span>, type <span class="op">=</span> <span class="st">'mult'</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Removed 6 rows containing missing values or values outside the scale range</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> (`geom_line()`).</span>
<span class="r-plt img"><img src="decomp_cj-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">## monthly decomposition of continuous data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">apacpwq</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="qaqc.html">qaqc</a></span><span class="op">(</span><span class="va">apacpwq</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat2</span>, param <span class="op">=</span> <span class="st">'do_mgl'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## using the default method with a data frame</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">decomp_cj</span><span class="op">(</span><span class="va">dat</span>, param <span class="op">=</span> <span class="st">'chla_n'</span>, date_col <span class="op">=</span> <span class="st">'datetimestamp'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Marcus W. Beck.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

